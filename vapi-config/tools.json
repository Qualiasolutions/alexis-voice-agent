{
  "tools": [
    {
      "type": "function",
      "function": {
        "name": "getOrderStatus",
        "description": "Look up order status by reference number or customer email. Use when customer asks about their order, delivery status, or payment status.",
        "parameters": {
          "type": "object",
          "properties": {
            "reference": {
              "type": "string",
              "description": "The order reference number (9 characters like ABCDEFGHI). Ask customer for this if they have it."
            },
            "email": {
              "type": "string",
              "description": "Customer email address. Use this if they don't have their reference number."
            }
          }
        }
      },
      "server": {
        "url": "${WEBHOOK_URL}"
      }
    },
    {
      "type": "function",
      "function": {
        "name": "checkProductStock",
        "description": "Check if a product is in stock and how many units are available. Use when customer asks about availability or stock.",
        "parameters": {
          "type": "object",
          "properties": {
            "product_id": {
              "type": "number",
              "description": "The product ID if known"
            },
            "product_name": {
              "type": "string",
              "description": "Product name to search for. Use this if customer describes the product."
            }
          }
        }
      },
      "server": {
        "url": "${WEBHOOK_URL}"
      }
    },
    {
      "type": "function",
      "function": {
        "name": "getTrackingInfo",
        "description": "Get shipping carrier and tracking number for an order. Use when customer asks about tracking, shipping, or delivery.",
        "parameters": {
          "type": "object",
          "properties": {
            "reference": {
              "type": "string",
              "description": "Order reference number"
            },
            "order_id": {
              "type": "number",
              "description": "Order ID if known"
            }
          }
        }
      },
      "server": {
        "url": "${WEBHOOK_URL}"
      }
    },
    {
      "type": "function",
      "function": {
        "name": "searchProducts",
        "description": "Search for products by name. Use when customer is looking for a specific product or asking what you have.",
        "parameters": {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "description": "Search query - product name or keywords"
            },
            "limit": {
              "type": "number",
              "description": "Max results to return (default 5)"
            }
          },
          "required": ["query"]
        }
      },
      "server": {
        "url": "${WEBHOOK_URL}"
      }
    },
    {
      "type": "function",
      "function": {
        "name": "createSupportTicket",
        "description": "Create a support ticket for issues that need human follow-up. Use when you cannot resolve the issue or customer requests to speak to someone.",
        "parameters": {
          "type": "object",
          "properties": {
            "order_id": {
              "type": "number",
              "description": "Related order ID if applicable"
            },
            "message": {
              "type": "string",
              "description": "Description of the customer's issue or request"
            },
            "customer_email": {
              "type": "string",
              "description": "Customer email for follow-up"
            }
          },
          "required": ["message"]
        }
      },
      "server": {
        "url": "${WEBHOOK_URL}"
      }
    }
  ]
}
